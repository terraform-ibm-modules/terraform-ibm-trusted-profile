# Dynamic Assignment Example

This example demonstrates the trusted profile template module's ability to handle dynamic account assignments without encountering the "known only after apply" error.

## Scenario

This example simulates the problematic use case where:
1. Account IDs are generated by other Terraform resources (not known at plan time)
2. These dynamic account IDs are used in the template assignment

## What it tests

- Dynamic account ID assignment using `terraform_data` resources
- Template assignment with `for_each` loops over dynamic values
- Proper separation of concerns between account and account group assignments

## Key Features

- Uses `terraform_data` to simulate enterprise accounts with dynamic IDs
- Creates identities based on simulated service IDs
- Assigns the template to dynamically generated account IDs
- Demonstrates that the refactored module works correctly with dynamic values

## Usage

```bash
terraform init
terraform plan
terraform apply
```

The example should complete successfully without any "known only after apply" errors during the plan phase.